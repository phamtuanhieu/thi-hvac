<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Thi Tr·∫Øc Nghi·ªám HVAC</title>

<style>
body { font-family: Arial; background:#f4f6f8; }
.container {
    width: 900px; margin: auto; background:#fff;
    padding: 20px; border-radius: 8px;
}
h1 { text-align:center; }
.timer { color:red; font-weight:bold; text-align:right; }
.question { margin-bottom: 15px; }
.nav-btns { text-align:center; margin-top:20px; }
button {
    padding:8px 16px; margin:5px;
    font-size:16px; cursor:pointer;
}
.hidden { display:none; }
</style>
</head>

<body>

<div class="container">

<h1>THI TR·∫ÆC NGHI·ªÜM HVAC</h1>

<div id="timer" class="timer">‚è∞ Th·ªùi gian: 30:00</div>

<!-- ƒêƒÇNG NH·∫¨P -->
<div id="loginBox">
    <input type="text" id="username" placeholder="Nh·∫≠p t√™n">
    <button onclick="login()">ƒêƒÉng nh·∫≠p</button>
</div>

<!-- KHU V·ª∞C THI -->
<div id="examBox" class="hidden">
    <div id="questionArea"></div>

    <div class="nav-btns">
        <button onclick="prevPage()">‚¨Ö Trang tr∆∞·ªõc</button>
        <span id="pageInfo"></span>
        <button onclick="nextPage()">Trang sau ‚û°</button>
    </div>

    <div class="nav-btns">
        <button onclick="submitExam()">üìù N·ªôp b√†i</button>
        <button onclick="logout()">üö™ Tho√°t</button>
    </div>
</div>

<div id="result" class="hidden"></div>

</div>

<script>
const totalTime = 30 * 60; // 30 ph√∫t
const perPage = 5;

const questions = [
 {q:"HVAC l√† vi·∫øt t·∫Øt c·ªßa?", a:["Heating Ventilation Air Conditioning","Heat Ventilation Auto Control","High Voltage AC","Kh√¥ng c√≥"], c:0},
 {q:"Ch·ª©c nƒÉng ch√≠nh HVAC?", a:["L√†m l·∫°nh","S∆∞·ªüi","Th√¥ng gi√≥","T·∫•t c·∫£"], c:3},
 {q:"D√†n n√≥ng d√πng ƒë·ªÉ?", a:["Thu nhi·ªát","X·∫£ nhi·ªát","L·ªçc kh√≠","T·∫°o ·∫©m"], c:1},
 {q:"M√¥i ch·∫•t l·∫°nh d√πng ƒë·ªÉ?", a:["Truy·ªÅn nhi·ªát","T·∫°o gi√≥","L·ªçc b·ª•i","T·∫°o oxy"], c:0},
 {q:"COP l√†?", a:["Hi·ªáu su·∫•t","C√¥ng su·∫•t","√Åp su·∫•t","Nhi·ªát ƒë·ªô"], c:0}
];

let answers = new Array(questions.length);
let currentPage = 0;
let timeLeft = totalTime;
let timer;

function login(){
    if(!username.value) return alert("Nh·∫≠p t√™n!");
    loginBox.classList.add("hidden");
    examBox.classList.remove("hidden");
    startTimer();
    renderPage();
}

function startTimer(){
    timer = setInterval(()=>{
        let m = Math.floor(timeLeft/60);
        let s = timeLeft%60;
        document.getElementById("timer").innerText =
        `‚è∞ Th·ªùi gian: ${m}:${s<10?'0':''}${s}`;
        if(--timeLeft < 0){
            clearInterval(timer);
            submitExam();
        }
    },1000);
}

function renderPage(){
    let start = currentPage * perPage;
    let end = Math.min(start + perPage, questions.length);
    questionArea.innerHTML = "";

    for(let i=start;i<end;i++){
        let q = questions[i];
        let html = `<div class="question"><b>C√¢u ${i+1}:</b> ${q.q}<br>`;
        q.a.forEach((opt,j)=>{
            html += `<label>
                <input type="radio" name="q${i}"
                ${answers[i]==j?'checked':''}
                onclick="answers[${i}]=${j}">
                ${opt}
            </label><br>`;
        });
        html += "</div>";
        questionArea.innerHTML += html;
    }

    pageInfo.innerText =
    `Trang ${currentPage+1} / ${Math.ceil(questions.length/perPage)}`;
}

function nextPage(){
    if((currentPage+1)*perPage < questions.length){
        currentPage++;
        renderPage();
    }
}

function prevPage(){
    if(currentPage>0){
        currentPage--;
        renderPage();
    }
}

function submitExam(){
    clearInterval(timer);
    let score = 0;
    questions.forEach((q,i)=>{
        if(answers[i]==q.c) score++;
    });
    examBox.classList.add("hidden");
    result.classList.remove("hidden");
    result.innerHTML = `
    <h2>‚úÖ K·∫øt qu·∫£</h2>
    <p>ƒê√∫ng: ${score}/${questions.length}</p>
    <p>ƒêi·ªÉm: ${(score/questions.length*10).toFixed(2)}/10</p>`;
}

function logout(){
    location.reload();
}
</script>

</body>
</html>
